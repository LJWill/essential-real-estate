!function(e){"use strict";var t=!0,i={vars:{filter_id:"",property_items:[]},init:function(){this.filterCarousel(),this.filterRow(),this.resize(),ERE.select_term()},filterCarousel:function(){e('[data-filter-type="carousel"]').each(function(){var t=e("a",e(this));i.executeFilter("filterCarousel",t)})},filterRow:function(){var r=e('[data-filter-type="filter"]'),a=r.data("item"),o=e("body").hasClass("rtl");void 0===a&&(a=".property-item"),e('[data-layout="fitRows"]').each(function(){var t=e(this);t.imagesLoaded(function(){t.isotope({itemSelector:a,layoutMode:"fitRows",isOriginLeft:!o,transitionDuration:"0.8s"}).isotope("layout")})}),e(document).on("vc-tab-clicked",function(t,i){e('[data-layout="fitRows"]',i).each(function(){e(this).isotope("layout")})}),e(r).each(function(){if("filter-isotope"==e(this).data("filter-style"))e("a",e(this)).on("click",function(i){i.preventDefault();var r=e(this).parent().attr("data-filter_id"),a=e('.property-content[data-filter_id="'+r+'"]'),o=!0;if(e(this).hasClass("active-filter")&&(o=!1),t&&o){var s=e(this).attr("data-filter");a.isotope({filter:s}),e(this).parent().children("a").css("cursor","pointer"),e(this).parent().children("a").removeClass("active-filter"),e(this).addClass("active-filter"),e(this).css("cursor","not-allowed");var l=e(this).parent().next().children("select");l.removeAttr("disabled"),l.children("option").removeAttr("selected"),l.children('option[value="'+s+'"]').attr("selected","selected"),l.val()!=s&&l.selectize()[0].selectize.setValue(s)}});else{var r=e("a",e(this));i.executeFilter("filterRow",r)}})},executeFilter:function(r,a){a.on("click",function(o){o.preventDefault();var s=e(this),l=s.parent().attr("data-filter_id"),c=e('.property-content[data-filter_id="'+l+'"]'),n=c.parent();if(s.hasClass("active-filter"))return s.css("cursor","not-allowed"),!1;if(s.parent().children("a").css("cursor","wait"),t){t=!1;var d=s.data("filter"),f=s.parent().next().children("select");if(i.vars.filter_id=s.parent().data("filter_id"),s.parent().find(".active-filter").removeClass("active-filter"),s.addClass("active-filter"),n.css("height",n.outerHeight()),void 0===i.vars.property_items[d+"-"+i.vars.filter_id]){s.css("width",s.outerWidth());var u=a.closest(".filter-inner").data("admin-url");e.ajax({url:u,data:{action:"ere_property_gallery_fillter_ajax",is_carousel:s.parent().data("is-carousel"),columns_gap:s.parent().data("columns-gap"),columns:s.parent().data("columns"),property_type:s.data("filter"),item_amount:s.parent().data("item-amount"),image_size:s.parent().data("image-size"),color_scheme:s.parent().data("color_scheme")},success:function(a){var o=e(".property-item",a);i.vars.property_items[d+"-"+i.vars.filter_id]=a,c.css("opacity",0),"filterRow"==r?c.isotope("destroy"):c.trigger("destroy.owl.carousel"),c.html(o),"filterRow"==r&&ERE.set_item_effect(o,"hide"),c.css("opacity",1),c.imagesLoaded(function(){"filterCarousel"==r?(ERE.set_item_effect(o,"hide"),ERE_Carousel.owlCarousel()):i.filterRow(),o=e(".property-item",c),ERE.set_item_effect(o,"show"),setTimeout(function(){n.css("height","auto")},200)}),setTimeout(function(){s.css("width","auto")},100),t=!0,f.removeAttr("disabled"),f.children("option").removeAttr("selected"),f.children('option[value="'+d+'"]').attr("selected","selected"),s.parent().children("a").css("cursor","pointer"),s.parent().children(".active-filter").css("cursor","not-allowed")},error:function(){t=!0}})}else{var p=i.vars.property_items[d+"-"+i.vars.filter_id],h=e(".property-item",p);"filterRow"==r&&c.isotope("destroy"),c.css("opacity",0),"filterCarousel"==r&&c.trigger("destroy.owl.carousel"),c.html(h),ERE.set_item_effect(h,"hide"),c.css("opacity",1),"filterCarousel"==r&&ERE_Carousel.owlCarousel(),c.imagesLoaded(function(){h=e(".property-item",c),ERE.set_item_effect(h,"show"),setTimeout(function(){n.css("height","auto")},200),"filterRow"==r&&i.filterRow()}),t=!0,f.removeAttr("disabled"),f.children("option").removeAttr("selected"),f.children('option[value="'+d+'"]').attr("selected","selected"),s.parent().children("a").css("cursor","pointer"),s.parent().children(".active-filter").css("cursor","not-allowed")}}})},resize:function(){e(window).resize(function(){i.executeResize()}),e(window).on("orientationchange",function(){i.executeResize()})},executeResize:function(){e(".property-content.owl-carousel").each(function(){var t=e(this);setTimeout(function(){var i=e(".property-item",t);ERE.set_item_effect(i,"show")},500)})}};e(document).ready(function(){i.init()})}(jQuery);